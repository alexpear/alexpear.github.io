<!DOCTYPE HTML>
<html lang="en">
  <head>
   <meta charset="UTF-8">
   <title>Sleeping Planet Hex</title>
  </head>
  <body>
    <canvas id="canvas" width="900" height="850" style="background-color: #0000FF"/>
    <script type="text/javascript">
      
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      const SPACE_TYPES = [
        {
          name: 'Grass',
          color: 'green'
        },
        {
          name: 'Sea',
          color: 'blue'
        },
        {
          name: 'Facility',
          color: 'grey'
        },
      ];

      const FACILITIES = [
        'Shield',
        'Bridge',
        'Ammo',
        'Cache',
        'Sentinels',
        'Bunker',
        'Cartographer',
        'Control Room',
        'Flood',
        'Reactor',
        'Override',
        'Solenoid',
        'Anti Air',
        'Portal',
        'Scanner',
        'Superluminal',
      ];

      function randomOf (array) {
        const i = Math.floor(Math.random() * array.length);
        return array[i];
      }

      function drawGrid () {
        const GRIDWIDTH = 7;
        const SPACEWIDTH = 110;

        ctx.textAlign = 'center';
        ctx.font = '16px Arial';

        for (let r = 0; r < GRIDWIDTH; r++) {
          for (let c = 0; c < GRIDWIDTH; c++) {
            let x = c * SPACEWIDTH + 30;
            let y = r * SPACEWIDTH + 30;

            if (r % 2 === 1) {
              x += Math.floor(SPACEWIDTH / 2);
            }

            const type = randomOf(SPACE_TYPES);

            ctx.beginPath();
            ctx.rect(x, y, SPACEWIDTH, SPACEWIDTH);
            ctx.fillStyle = type.color;
            ctx.fill();
            ctx.stroke();

            if (type.name === 'Facility') {
              const text = randomOf(FACILITIES);

              ctx.fillStyle = 'black';
              ctx.fillText(text, x + SPACEWIDTH / 2, y + SPACEWIDTH / 2);
            }
          }
        }
      }

      drawGrid();

    </script>
  </body>
</html>
